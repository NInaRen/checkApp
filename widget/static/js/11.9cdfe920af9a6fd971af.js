webpackJsonp([11],{EZsJ:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s("Cz8s"),a=s("VFiX"),n=s("Au9i"),o=(i.a,{data:function(){return{type:"tab",address_detail:null,headtitle:"考勤打卡",showDkbtn:!0,showDkedbtn:!0,nowTime:"",nowDate:"",userid:"",token:"",name:"",lon:"",lat:"",morningdkTime:"",noondkTime:"",timeStage:"",address:"",worktime:""}},created:function(){var t=this;this.userid=this.$store.getters.getUser.data.userid,this.token=this.$store.getters.getUser.token,this.name=this.$store.getters.getUser.data.name,setInterval(this.getTime,1e3);var e=this.userid,s=this.token;n.Indicator.open({text:"正在加载...",spinnerType:"fading-circle"}),a.a.QUERYUSERDKTIME(this,{userid:e,token:s}).then(function(e){var s=e.body;if(n.Indicator.close(),s.success){"5101080"===s.costomno?t.worktime="09:00":"5101081"===s.costomno&&(t.worktime="08:55");var i=s.result;i&&(i.first_time?(t.showDkbtn=!1,t.morningdkTime=i.first_time):t.showDkbtn=!0,i.last_time?(t.showDkedbtn=!1,t.noondkTime=i.last_time):t.showDkedbtn=!0)}else n.MessageBox.alert(s.msg,"操作提示")},function(t){n.Indicator.close(),Object(n.Toast)({message:"读取打卡信息失败",position:"middle",duration:1e3})})},computed:{btnsbBg:function(){return"sbclockin"===this.timeStage?"sbdking":"sbdked"},btnxbBg:function(){return"xbclockin"===this.timeStage?"xbdking":"xbdked"}},methods:{getTime:function(){var t=new Date,e=t.getFullYear()+"-"+this.twoDigits(t.getMonth()+1)+"-"+this.twoDigits(t.getDate())+" ",s=this.twoDigits(t.getHours())+":"+this.twoDigits(t.getMinutes());this.nowTime=s,this.nowDate=e,1*t.getHours()<=12?this.timeStage="sbclockin":this.timeStage="xbclockin"},twoDigits:function(t){return t<10?"0"+t:t},readyMap:function(t){var e=window.api.require("bMap");e.hide(),e.getLocation({accuracy:"10m",autoStop:!0,filter:1},function(s,i){s.status?(this.lon=s.lon,this.lat=s.lat,e.getDistance({start:{lon:this.lon,lat:this.lat},end:{lon:104.098952,lat:30.67553}},function(s){s.status&&(e.getNameFromCoords({lon:this.lon,lat:this.lat},function(t,e){t.status&&(this.address=t.address)}),t(s.distance,this.address,this.lon,this.lat))})):alert(i.code)})},dkEvent:function(t){var e=this;"sbclockin"===t&&"xbclockin"===this.timeStage?n.MessageBox.alert("12:00过后无需打上班卡"):"xbclockin"===t&&"sbclockin"===this.timeStage&&n.MessageBox.alert("12:00之前无需打下班卡"),this.timeStage===t&&this.readyMap(function(s,i,o,d){if(s<100&&i){var c={userid:e.userid,token:e.token,address:i,longitude:o,latitude:d};n.Indicator.open({text:"正在加载...",spinnerType:"fading-circle"}),a.a.INSERTKQRECORD(e,c).then(function(s){var i=s.body;n.Indicator.close(),i.success&&("sbclockin"===t?(e.morningdkTime=i.datetime,e.showDkbtn=!1):"xbclockin"===t&&(e.noondkTime=i.datetime,e.showDkedbtn=!1))},function(t){n.Indicator.close(),Object(n.Toast)({message:"打卡失败",position:"middle",duration:1e3})})}else n.MessageBox.alert("请在打卡范围内打卡","操作提示")})}},components:{"v-header":i.a}}),d={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"ccontent"},[i("v-header",{attrs:{headtitle:t.headtitle}}),t._v(" "),i("div",{staticClass:"content"},[i("div",{staticClass:"content-top vux-1px-b"},[i("div",{staticClass:"name"},[i("img",{attrs:{src:s("MEVE"),alt:""}}),t._v(" "),i("span",[t._v(t._s(t.name))])]),t._v(" "),i("div",{staticClass:"time"},[t._v(t._s(t.nowDate))])]),t._v(" "),i("div",{staticClass:"content-bottom"},[i("div",{staticClass:"dk-box vux-1px-l"},[i("div",{staticClass:"dk-top"},[i("div",{staticClass:"dot"}),t._v(" "),i("div",{staticClass:"gd-time"},[t._v("上班时间 "+t._s(t.worktime))])]),t._v(" "),i("div",{staticClass:"dk-inner-box"},[t.showDkbtn?i("div",{staticClass:"dking"},[i("div",{staticClass:"dk-btn",class:t.btnsbBg,on:{click:function(e){t.dkEvent("sbclockin")}}},[i("div",{staticClass:"primary-text"},[t._v("上班打卡")]),t._v(" "),i("div",{staticClass:"sub-text"},[t._v(t._s(t.nowTime))])]),t._v(" "),i("div",{staticClass:"dk-bottom"},[t._v("请在上班时间前打卡")])]):t._e(),t._v(" "),t.showDkbtn?t._e():i("div",{staticClass:"dked"},[i("div",{staticClass:"dked-text"},[t._v("打卡时间 "+t._s(t.morningdkTime))])])])]),t._v(" "),i("div",{staticClass:"dk-box"},[t._m(0),t._v(" "),i("div",{staticClass:"dk-inner-box"},[t.showDkedbtn?i("div",{staticClass:"dking"},[i("div",{staticClass:"dk-btn",class:t.btnxbBg,on:{click:function(e){t.dkEvent("xbclockin")}}},[i("div",{staticClass:"primary-text"},[t._v("下班打卡")]),t._v(" "),i("div",{staticClass:"sub-text"},[t._v(t._s(t.nowTime))])]),t._v(" "),i("div",{staticClass:"dk-bottom"},[t._v("请在下班后打卡哦~")])]):t._e(),t._v(" "),t.showDkedbtn?t._e():i("div",{staticClass:"dked"},[i("div",{staticClass:"dked-text"},[t._v("打卡时间 "+t._s(t.noondkTime))])])])])]),t._v(" "),t._m(1)])],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"dk-top"},[e("div",{staticClass:"dot"}),this._v(" "),e("div",{staticClass:"gd-time"},[this._v("下班时间17:00")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"content-reminder"},[e("div",{staticClass:"reminder-icon"},[e("img",{attrs:{src:s("JU/T"),alt:""}}),this._v("提示：")]),this._v(" "),e("div",{staticClass:"reminder-text"},[e("p",[this._v("1, 早上9:00开始请假无需打上班卡")]),this._v(" "),e("p",[this._v("2, 请假结束到下班时间无需打下班卡")])])])}]};var c=s("VU/8")(o,d,!1,function(t){s("IX1/")},"data-v-4677da70",null);e.default=c.exports},"IX1/":function(t,e){},MEVE:function(t,e){t.exports="data:image/png;base64,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"},VFiX:function(t,e,s){"use strict";var i=s("LMSR"),a={INSERTKQRECORD:function(t,e){return t.$http.post(i.a+"zhfwgl/leave/kqgldk/kqgldkAction!insertKqRecord.do",e)},KQGLDKLIST:function(t,e){return t.$http.post(i.a+"zhfwgl/leave/kqgldk/kqgldkAction!Kqgldklist.do",e)},QUERYUSERDKTIME:function(t,e){return t.$http.post(i.a+"zhfwgl/leave/kqgldk/kqgldkAction!queryUserDkTime.do",e)}};e.a=a}});
//# sourceMappingURL=11.9cdfe920af9a6fd971af.js.map