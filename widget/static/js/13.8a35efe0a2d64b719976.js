webpackJsonp([13],{"3UKk":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAEFCu8CAAAAAXNSR0IArs4c6QAAAw5JREFUSA29Vs1r1EAUfzPZrSiCXRoRFQQVrFeFgh78unoSP0B7809Q0e1BEKEHo/ToUY91wQr+BaJ4ULDgtfVQT10Qd1lBpbKbTXy/SV52skm6sWx9EObN+8zMvPebIRLyWm/AKjN/9D0UuaZYQ+RcFCERLCwrCFahVbZUJ/ZaX9fk0AUjCIJGlMZrdSkMq4kVGF05jxgIdiyliCeZH8wzwu885O8nLXROiEGx59xelfpv0s4sBf1F46nU6mAdEkvGMJxOK4PgKXE40afDihSj0tcKfki1ac51kxDGyWt94J06ZQdI8U71CN2d/ApZ5FjkYK/MjsD/rM2mbZbFdhCeiwA7cFvm2dFZZtmvrJzPmqqVs3kKIwu6X3jcnafXdKf2mbDo0oRdxTEPk9da4Z2dHhbjfKg+tSTyrCMqy+8vsPMMGzX5a3CGB+Ig48DxyY/D1O+tiSIzKvWR6u5pkUeOjzvnKPDfitCMSvUybQNZ3Z2APirIYSdoYgOwCaH/UCxMaPWVRFGGiYtF5+7gqADcouneGeUw0DOYbEaKXuSqldpf7GjQTP2hGu/ihLuL++i3FWS5uJMtqwxbrZzUppQymhECrm8d1R8XblmKGyJaI2MIg8FoZwbcNHRINq99lcLgpUyTkQGRK+l4MmdmUOS2VHgEonC+dJEgAan7dvtJKBmzCU2j9F9xoikx2trIW6adK3Sv9s72HyQ0bex/KpVoR/Uodf0bvPJ5O1g+z4mdyoycRXSI2DqDGSVXdWtyjcutGGNSmTkmYpvjQfcD0fIOPOU0hglycC5t4HMM8UqFYKgGTAGr/w9xLpwhLoZ/I699k/bUlswzYp+7kxx1mRsMiJZ7iVrBm0jYsATl2DB4Th1+igEBv7U2qE/PKFQbpPkKrOpD3IvrBYGSd1z+HVrgtSVxjDpRWwB+cF1uF0VXsYG4KCES4W7GExZX7bgIsQDAmXt/OAFQJ/AXuYKLH4HDPvYcK9KVWUGXlMqeFPIAh55/iVd/hn/iINsdiG2bLFtn2Xt+zb02D7PCIJHiLwYhEsrKScZvAAAAAElFTkSuQmCC"},U3t3:function(t,e){},ZrFe:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("Cz8s"),i=a("PSxw"),o=a("rGqP"),n=a("jOlP"),c=a("Au9i"),l=a("TwAW"),r=a("PZOS"),d=a.n(r),h=a("JU/T"),v=a.n(h),g=(o.a,n.a,s.a,i.a,{components:{Divider:o.a,Spinner:n.a,"v-header":s.a,"v-date-search":i.a},data:function(){return{headtitle:"审批列表",isActiveA:"tab-btn-active",isActiveB:"",startDate:"",endDate:"",pageSize:10,isChecked:!1,pageNo:1,status:{"01":{class:"check-none",name:"未审核"},"02":{class:"pass",name:"科室审核通过"},"03":{class:"pass",name:"分管领导审核通过"},"04":{class:"pass",name:"审核通过"},"05":{class:"checked",name:"审核不通过"}},vacationList:[],bottomStatus:"",bottom_tip:"",zcImg:d.a,ycImg:v.a,allUseLoad:!1,from:""}},beforeRouteEnter:function(t,e,a){var s=e.name;a(function(t){t.from=s,"checkTab"===t.from?t.queryName="":t.queryName="leave"})},mounted:function(){this.getUncheckedData()},methods:{applyVacation:function(){"5101080"===this.$store.getters.getUser.data.dept?this.$router.push({name:"applyVacationDept"}):this.$router.push({name:"applyVacationWindow"})},getUncheckedData:function(){this.pageNo=1,this.isActiveA="tab-btn-active",this.isActiveB="",this.isChecked=!1,this.vacationList=[],this.getData()},getCheckedData:function(){this.pageNo=1,this.isActiveA="",this.isActiveB="tab-btn-active",this.isChecked=!0,this.vacationList=[],this.getData()},search:function(){this.vacationList=[],this.getData()},getData:function(t){var e=this,a=this.$store.getters.getUser.token;c.Indicator.open({text:"正在加载...",spinnerType:"fading-circle"});var s={token:a,perpage:this.pageSize,pageNo:this.pageNo,start_time:this.startDate,end_time:this.endDate};this.isChecked?s.validate="yb":(s.validate="db",s.zhgl_qj01018="01"),"02"===this.$store.getters.getMenuType?s.zhgl_qj01027="01":"04"===this.$store.getters.getMenuType&&(s.zhgl_qj01027="02"),l.a.WINDOW_GET_CHECK_LIST(this,s).then(function(a){var s=a.body;c.Indicator.close(),s.success?(s.data.forEach(function(t,a){"01"===e.$store.getters.getMenuType||"02"===e.$store.getters.getMenuType?t.qjgs=t.zhgl_qj01030:"03"!==e.$store.getters.getMenuType&&"04"!==e.$store.getters.getMenuType||(t.qjgs=t.zhgl_qj01008)}),e.vacationList=e.vacationList.concat(s.data),s.data.length<e.pageSize?(e.isHaveMore(!1),e.bottom_tip="数据已全部加载完",t&&t()):(e.bottom_tip="上拉加载更多",e.isHaveMore(!0),t&&t())):c.MessageBox.alert(s.message,"操作提示")},function(t){c.Indicator.close(),Object(c.Toast)({message:"服务器异常",position:"middle",duration:1e3})})},loadBottom:function(){this.pageNo++,this.getData(this.$refs.loadmore.onBottomLoaded)},loadmorechange:function(t){this.bottomStatus=t,"loading"!==t&&"drop"===t?this.bottom_tip="释放加载":"loading"===t&&(this.bottom_tip="正在加载中")},isHaveMore:function(t){this.allUseLoad=!0,t&&(this.allUseLoad=!1)},goToFlowPage:function(t){var e=this.isChecked;this.$store.commit("setVacationId",{data:t}),this.$store.commit("setIsChecked",{data:e}),"02"===this.$store.getters.getMenuType?this.$router.push({name:"vacationCheckWindow"}):"04"===this.$store.getters.getMenuType&&this.$router.push({name:"vacationCheckDept"})}}}),m={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("div",{staticClass:"header"},[s("v-header",{attrs:{headtitle:t.headtitle}})],1),t._v(" "),s("div",{staticClass:"center"},[s("div",{staticClass:"tab-box"},[s("div",{staticClass:"tab-btn-box"},[s("div",{staticClass:"tab-btn",class:t.isActiveA,on:{click:t.getUncheckedData}},[t._v("未审核")])]),t._v(" "),s("div",{staticClass:"tab-btn-box"},[s("div",{staticClass:"tab-btn",class:t.isActiveB,on:{click:t.getCheckedData}},[t._v("已审核")])])]),t._v(" "),s("div",{staticClass:"search-box"},[s("v-date-search",{attrs:{startDate:t.startDate,endDate:t.endDate},on:{"update:startDate":function(e){t.startDate=e},"update:endDate":function(e){t.endDate=e},"search-click":t.search}})],1),t._v(" "),s("mt-loadmore",{ref:"loadmore",attrs:{autoFill:!1,"bottom-method":t.loadBottom,"bottom-all-loaded":t.allUseLoad},on:{"bottom-status-change":t.loadmorechange}},[t._l(t.vacationList,function(e,i){return s("div",{key:i,staticClass:"content-box",on:{click:function(a){t.goToFlowPage(e.id)}}},[s("div",{staticClass:"status",class:t.status[e.zhgl_qj01018].class},[t._v(t._s(t.status[e.zhgl_qj01018].name))]),t._v(" "),s("div",{staticClass:"cell user-cell"},[s("div",{staticClass:"dot-img"}),s("label",[t._v("请假人：")]),s("span",[t._v(t._s(e.zhgl_qj01001))])]),t._v(" "),s("div",{staticClass:"cell"},[s("label",[t._v("请假类型：")]),s("span",[t._v(t._s(e.zhgl_qj01004))])]),t._v(" "),s("div",{staticClass:"cell"},[s("label",[t._v("请假原因：")]),s("span",[t._v(t._s(e.zhgl_qj01005))])]),t._v(" "),s("div",{staticClass:"cell"},[s("label",[t._v("请假工时：")]),s("span",[t._v(t._s(e.qjgs))])]),t._v(" "),s("div",{staticClass:"cell date-cell"},[s("img",{attrs:{src:a("3UKk")}}),t._v(" "),s("span",{staticClass:"date-range"},[t._v(t._s(e.zhgl_qj01006.substring(0,e.zhgl_qj01006.length-3))+"-"+t._s(e.zhgl_qj01007.substring(0,e.zhgl_qj01007.length-3)))])]),t._v(" "),s("div",{staticClass:"cell apply-cell"},[s("label",[t._v("申请时间：")]),s("span",[t._v(t._s(e.create_time))])])])}),t._v(" "),s("divider",{domProps:{textContent:t._s(t.bottom_tip)}}),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:"loading"===t.bottomStatus,expression:"bottomStatus === 'loading'"}],staticClass:"mint-loadmore-bottom",attrs:{slot:"bottom"},slot:"bottom"},[s("span",{directives:[{name:"show",rawName:"v-show",value:"loading"===t.bottomStatus,expression:"bottomStatus === 'loading'"}]},[s("spinner",{attrs:{type:"circles"}})],1)])],2)],1)])},staticRenderFns:[]};var u=a("VU/8")(g,m,!1,function(t){a("U3t3")},"data-v-14f3f760",null);e.default=u.exports}});
//# sourceMappingURL=13.8a35efe0a2d64b719976.js.map